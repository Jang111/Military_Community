{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useLocation}from\"react-router-dom\";import axios from'axios';import\"../App.css\";import\"./Detail.css\";import Comment from\"./Comment\";import PWDModal from\"./PWDModal\";import PWDModal_DEL from\"./PWDModal_DEL\";import{useNavigate}from\"react-router-dom\";// **js파일이 렌더링될 때, 위에서부터 차례대로 렌더링되는 것이 아님. 컴포넌트별로 렌더링되는 순서가 다름\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Detail=()=>{const location=useLocation();const title=location.state.title;const pubDate=location.state.pub_date;const content=location.state.content;const author=location.state.author;const id=location.state.id;const password=location.state.password;const[modal_is_open_update,setModalIsOpen_upt]=useState(false);const[modal_is_open_delete,setModalIsOpen_del]=useState(false);// console.log(title); --> Contents.js에서 선택한 데이터 리스트의 제목 출력\nconst[gtitle,setTitle]=useState(\"\");//db의 title 정보 저장\nconst[gpubDate,setPubDate]=useState(\"\");//db의 pub-date 정보 저장\nconst[gcontent,setContent]=useState(\"\");//db의 content 정보 저장\nconst[gauthor,setAuthor]=useState(\"\");// db의 author 정보 저장\nconst[gid,setId]=useState(id);const lookDetail=()=>{setId(id);setTitle(title);// gtitle 초기화\nsetPubDate(pubDate);setContent(content);setAuthor(author);console.log(id);};useEffect(()=>{lookDetail();console.log(password);console.log(title+\"detail\");},[]);// Too many rerenders에러가 나타날 경우를 방지하기 위해 작성\n//setState()함수를 컴포넌트 바디에 그냥 선언해주게 되면 state가 변화될 때마다 컴포넌트가 리렌더링되고,\n// 컴포넌트가 리렌더링 되면서 또다시 setState가 실행된다.\n// -> 무한 반복 -> useEffect()함수 안에 선언\nreturn/*#__PURE__*/_jsx(\"div\",{class:\"background\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"dashBoard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC791\\uC131\\uAE00\"}),/*#__PURE__*/_jsx(\"table\",{className:\"tb\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td_title\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"td\",{className:\"td\",children:gtitle})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td_title\",children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"td\",{className:\"td\",children:gauthor})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td_title\",children:\"\\uB0A0\\uC9DC\"}),/*#__PURE__*/_jsx(\"td\",{className:\"td\",children:gpubDate})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td_title\",children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"td\",{className:\"td\",children:gcontent})]})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn2\",onClick:()=>setModalIsOpen_upt(true),children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn3\",onClick:()=>setModalIsOpen_del(true),children:\"\\uC0AD\\uC81C\"}),/*#__PURE__*/_jsx(PWDModal,{modal_is_open:modal_is_open_update,setModalIsOpen:setModalIsOpen_upt,writer:gauthor,password:password,title:gtitle,content:gcontent,id:gid}),/*#__PURE__*/_jsx(PWDModal_DEL,{modal_is_open:modal_is_open_delete,setModalIsOpen:setModalIsOpen_del,writer:gauthor,password:password,id:gid}),/*#__PURE__*/_jsx(Comment,{gid:gid}),\" \"]})});};export default Detail;","map":{"version":3,"names":["React","useState","useEffect","useLocation","axios","Comment","PWDModal","PWDModal_DEL","useNavigate","jsx","_jsx","jsxs","_jsxs","Detail","location","title","state","pubDate","pub_date","content","author","id","password","modal_is_open_update","setModalIsOpen_upt","modal_is_open_delete","setModalIsOpen_del","gtitle","setTitle","gpubDate","setPubDate","gcontent","setContent","gauthor","setAuthor","gid","setId","lookDetail","console","log","class","children","className","onClick","modal_is_open","setModalIsOpen","writer"],"sources":["C:/Users/jangty/Desktop/miliHelper/Military_Community/vs_workspace/community/src/pages/Detail.js"],"sourcesContent":["import React,{useState, useEffect} from \"react\";\r\nimport {useLocation} from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport \"../App.css\";\r\nimport \"./Detail.css\";\r\nimport Comment from \"./Comment\";\r\nimport PWDModal from \"./PWDModal\";\r\nimport PWDModal_DEL from \"./PWDModal_DEL\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\n// **js파일이 렌더링될 때, 위에서부터 차례대로 렌더링되는 것이 아님. 컴포넌트별로 렌더링되는 순서가 다름\r\n\r\nconst Detail = () =>{\r\n\r\n    const location = useLocation();\r\n    const title = location.state.title;\r\n    const pubDate = location.state.pub_date;\r\n    const content = location.state.content;\r\n    const author = location.state.author;\r\n    const id = location.state.id;\r\n    const password = location.state.password;\r\n\r\n    const [modal_is_open_update, setModalIsOpen_upt] = useState(false);\r\n    const [modal_is_open_delete, setModalIsOpen_del] = useState(false);\r\n\r\n    // console.log(title); --> Contents.js에서 선택한 데이터 리스트의 제목 출력\r\n    \r\n    const [gtitle, setTitle] = useState(\"\");//db의 title 정보 저장\r\n    const [gpubDate, setPubDate] = useState(\"\"); //db의 pub-date 정보 저장\r\n    const [gcontent, setContent] = useState(\"\"); //db의 content 정보 저장\r\n    const [gauthor, setAuthor] = useState(\"\"); // db의 author 정보 저장\r\n    const [gid, setId] = useState(id);\r\n    \r\n\r\n    const lookDetail =()=>{\r\n        setId(id);\r\n        setTitle(title); // gtitle 초기화\r\n        setPubDate(pubDate);\r\n        setContent(content);\r\n        setAuthor(author);\r\n        console.log(id);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        lookDetail();\r\n        console.log(password)\r\n        console.log(title+\"detail\");\r\n    }, []); // Too many rerenders에러가 나타날 경우를 방지하기 위해 작성\r\n    //setState()함수를 컴포넌트 바디에 그냥 선언해주게 되면 state가 변화될 때마다 컴포넌트가 리렌더링되고,\r\n    // 컴포넌트가 리렌더링 되면서 또다시 setState가 실행된다.\r\n    // -> 무한 반복 -> useEffect()함수 안에 선언\r\n\r\n    return(\r\n        <div class=\"background\">\r\n            <div class=\"dashBoard\">\r\n                <h2>작성글</h2>\r\n                <table className = \"tb\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <td className=\"td_title\">제목</td>\r\n                            <td className = \"td\">{gtitle}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td className=\"td_title\">작성자</td>\r\n                            <td className = \"td\">{gauthor}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td className=\"td_title\">날짜</td>\r\n                            <td className = \"td\">{gpubDate}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td className=\"td_title\">내용</td>\r\n                            <td className = \"td\">{gcontent}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <button className = \"btn2\" onClick = {()=>setModalIsOpen_upt(true)}>\r\n                    수정\r\n                </button>\r\n                <button className = \"btn3\" onClick = {()=>setModalIsOpen_del(true)}>\r\n                    삭제\r\n                </button>\r\n                <PWDModal modal_is_open = {modal_is_open_update} setModalIsOpen={setModalIsOpen_upt} writer = {gauthor} password = {password} title={gtitle} content={gcontent} id = {gid}/>\r\n                <PWDModal_DEL modal_is_open = {modal_is_open_delete} setModalIsOpen={setModalIsOpen_del} writer = {gauthor} password = {password} id={gid}/>\r\n                <Comment gid = {gid}/> {/*댓글 컴포넌트*/}\r\n            </div>\r\n            \r\n        </div>\r\n        \r\n    )\r\n    }\r\n\r\n\r\nexport default Detail"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}