{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import\"./Update.css\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Update=()=>{// 게시글 수정 페이지\nconst location=useLocation();const gauthor=location.state.writ;//해당 게시글의 기존 작성자\nconst[gtitle,setgTitle]=useState(location.state.title);// //해당 게시글의 기존 제목\nconst[gcontent,setgContent]=useState(location.state.content);//해당 게시글의 기존 내용\nconst gid=location.state.id;// 해당 게시글의 기존 id\nconst CompleteUpdate=()=>{//해야할 것 : 수정한 내용을 기존 데이터베이스에 덮어쓰기(새로 추가 x)\nconst header={\"Content-type\":\"application/json; charset=utf-8;\",Accept:\"application/json\"};const datas={id:gid,title:gtitle,content:gcontent};axios.post(\"http://localhost:8000/Updated/\",datas,{header}).then(response=>{const res=response.data;if(res.responseCode){alert(res.message);window.location.href=\"/Community\";}}).catch(response=>{alert(response.message);});};return/*#__PURE__*/_jsx(\"div\",{className:\"background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashBoard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uAC8C\\uC2DC\\uAE00 \\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"table\",{className:\"tb\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td_title\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"tt\",onChange:e=>{setgTitle(e.target.value);},children:gtitle})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td_title\",children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"textarea\",{readOnly:true,className:\"tt_auth\",children:gauthor})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td_title\",children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"tt_cont\",onChange:e=>{setgContent(e.target.value);},children:gcontent})]})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn2\",onClick:()=>{CompleteUpdate();},children:\"\\uC644\\uB8CC\"})]})});};export default Update;","map":{"version":3,"names":["React","useState","axios","useLocation","jsx","_jsx","jsxs","_jsxs","Update","location","gauthor","state","writ","gtitle","setgTitle","title","gcontent","setgContent","content","gid","id","CompleteUpdate","header","Accept","datas","post","then","response","res","data","responseCode","alert","message","window","href","catch","className","children","onChange","e","target","value","readOnly","onClick"],"sources":["C:/Users/jangty/Desktop/miliHelper/Military_Community/vs_workspace/community/src/pages/Update.js"],"sourcesContent":["import React, {useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Update.css\";\r\nimport {useLocation} from \"react-router-dom\";\r\n\r\n\r\nconst Update  = () => { // 게시글 수정 페이지\r\n\r\n    \r\n\r\n\r\n    const location = useLocation();\r\n    const gauthor = location.state.writ; //해당 게시글의 기존 작성자\r\n\r\n    const [gtitle, setgTitle] = useState(location.state.title); // //해당 게시글의 기존 제목\r\n    const [gcontent, setgContent] = useState(location.state.content); //해당 게시글의 기존 내용\r\n    \r\n    const gid = location.state.id; // 해당 게시글의 기존 id\r\n\r\n    const CompleteUpdate = ()=>{\r\n        //해야할 것 : 수정한 내용을 기존 데이터베이스에 덮어쓰기(새로 추가 x)\r\n        const header = {\r\n            \"Content-type\": \"application/json; charset=utf-8;\",\r\n            Accept : \"application/json\"\r\n        }\r\n\r\n        const datas = {\r\n            id : gid,\r\n            title:gtitle,\r\n            content:gcontent\r\n        }\r\n\r\n        axios.post(\"http://localhost:8000/Updated/\", datas, {\r\n                header,\r\n        }).then((response)=>{\r\n            const res = response.data;\r\n            if(res.responseCode){\r\n                alert(res.message);\r\n                window.location.href = \"/Community\";\r\n            }\r\n        }).catch((response)=>{\r\n            alert(response.message);\r\n            }\r\n        )\r\n     }\r\n \r\n    return (\r\n        <div className=\"background\">\r\n                <div className=\"dashBoard\">\r\n                <h2>게시글 수정</h2>\r\n                <table className = \"tb\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <td className=\"td_title\">제목</td>\r\n                            <textarea className = \"tt\" onChange = {(e)=>{setgTitle(e.target.value)}}>{gtitle}</textarea>\r\n                        </tr>\r\n                        <tr>\r\n                            <td className=\"td_title\">작성자</td>\r\n                            <textarea readOnly className = \"tt_auth\">{gauthor}</textarea>\r\n                        </tr>\r\n                        <tr>\r\n                            <td className=\"td_title\">내용</td>\r\n                            <textarea className = \"tt_cont\" onChange = {(e)=>{setgContent(e.target.value)}}>{gcontent}</textarea>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <button className = \"btn2\" onClick = {()=>{CompleteUpdate()}}>\r\n                    완료\r\n                </button>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Update"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}