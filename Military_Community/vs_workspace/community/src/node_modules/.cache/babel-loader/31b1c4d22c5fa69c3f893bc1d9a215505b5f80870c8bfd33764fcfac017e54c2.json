{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./Write.css';import Contents from'./Contents';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Write=data=>{// 초기값 : ''\n//setTitle(1)--> title = 1로 설정한다는 의미\nconst[title,setTitle]=useState('');const[content,setContent]=useState('');const[author,setAuthor]=useState('');const[password,setPassword]=useState('');const crypto=require(\"crypto\");const insertDataValueCheck=()=>{if(title===''){alert(\"제목을 입력해주세요.\");return false;}if(content===''){alert(\"내용을 입력해주세요.\");return false;}if(author===''){alert(\"이름을 입력해주세요.\");return false;}if(password===''){alert(\"비밀번호를 입력해주세요.\");return false;}return true;};const insertData=async()=>{if(!insertDataValueCheck()){return;}// 게시글을 올바른형태로 작성하였는지 검사\nconst headers={'Content-type':'application/json; charset=utf-8;',Accept:'application/json'};const datas={id:null,title:title,content:content,author:author,password:crypto.createHmac('sha256','milihelper_key').update(password).digest('hex')// encrypt password\n};axios.post('http://127.0.0.1:8000/Write/',datas,{headers}).then(response=>{if(response.data.responseCode){alert(response.data.message);window.location.href=\"/Community\";}else{alert(response.data.message);}}).catch(response=>{alert(response.data.message);});};const handleClick=e=>{window.location.href=\"/Community\";};return/*#__PURE__*/_jsxs(\"div\",{class:\"background\",children:[/*#__PURE__*/_jsx(\"h2\",{class:\"sectionTitle\",children:\"\\uAE00\\uC791\\uC131\"}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:'4%',paddingRight:'4%'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:25,fontWeight:'bold'},children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"input\",{class:\"inputs\",onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:25,fontWeight:'bold',marginTop:10},children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:15,class:\"inputs\",onChange:e=>setContent(e.target.value),style:{resize:'none'}}),/*#__PURE__*/_jsxs(\"div\",{class:\"buttonDiv\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Writer\",onChange:e=>setAuthor(e.target.value),style:{padding:5,width:200,fontSize:20,resize:'none',marginRight:20,borderRadius:4}}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Password\",type:\"password\",onChange:e=>setPassword(e.target.value),style:{padding:6,width:200,fontSize:20,resize:'none',marginRight:20,borderRadius:4}}),/*#__PURE__*/_jsx(\"button\",{class:\"goodButton\",onClick:()=>insertData(),children:\"\\uC800\\uC7A5\"}),/*#__PURE__*/_jsx(\"button\",{class:\"badButton\",onClick:handleClick,children:\"\\uB2EB\\uAE30\"})]})]})]});};export default Write;","map":{"version":3,"names":["React","useState","axios","Contents","jsx","_jsx","jsxs","_jsxs","Write","data","title","setTitle","content","setContent","author","setAuthor","password","setPassword","crypto","require","insertDataValueCheck","alert","insertData","headers","Accept","datas","id","createHmac","update","digest","post","then","response","responseCode","message","window","location","href","catch","handleClick","e","class","children","style","paddingLeft","paddingRight","fontSize","fontWeight","onChange","target","value","marginTop","rows","resize","placeholder","padding","width","marginRight","borderRadius","type","onClick"],"sources":["C:/Users/jangty/Desktop/miliHelper/Military_Community/vs_workspace/community/src/pages/Write.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport axios from 'axios';\r\nimport './Write.css'\r\nimport Contents from './Contents';\r\nconst Write = (data) => {\r\n    // 초기값 : ''\r\n    //setTitle(1)--> title = 1로 설정한다는 의미\r\n    const [title, setTitle] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [author, setAuthor] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    \r\n    const crypto = require(\"crypto\");\r\n\r\n    const insertDataValueCheck = ()=> {\r\n        if(title === ''){\r\n            alert(\"제목을 입력해주세요.\")\r\n            return false;\r\n        }\r\n        if(content === ''){\r\n            alert(\"내용을 입력해주세요.\")\r\n            return false;\r\n        }\r\n        if(author === ''){\r\n            alert(\"이름을 입력해주세요.\")\r\n            return false;\r\n        }\r\n        if(password === ''){\r\n            alert(\"비밀번호를 입력해주세요.\")\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    const insertData = async() => {\r\n        if(!insertDataValueCheck()){\r\n            return;\r\n        } // 게시글을 올바른형태로 작성하였는지 검사\r\n        \r\n        const headers = {\r\n            'Content-type' : 'application/json; charset=utf-8;',\r\n            Accept : 'application/json',\r\n        };\r\n\r\n        const datas = {\r\n            id : null,\r\n            title: title,\r\n            content: content,\r\n            author: author,\r\n            password : crypto\r\n            .createHmac('sha256', 'milihelper_key')\r\n            .update(password)\r\n            .digest('hex'), // encrypt password\r\n        };\r\n\r\n        axios.post('http://127.0.0.1:8000/Write/', datas\r\n        ,{headers,}\r\n        )\r\n        .then(\r\n            (response) => {\r\n                if(response.data.responseCode){\r\n                    alert(response.data.message);  \r\n                    window.location.href = \"/Community\"\r\n                }else{\r\n                    alert(response.data.message);\r\n                }\r\n            }\r\n        ).catch(\r\n            (response) => {\r\n                alert(response.data.message);\r\n            }\r\n        );\r\n    };\r\n\r\n    const handleClick = (e)=>{\r\n        window.location.href = \"/Community\";\r\n    }\r\n    return (\r\n        <div class=\"background\">\r\n            <h2 class=\"sectionTitle\">글작성</h2>\r\n                <div style={{paddingLeft: '4%', paddingRight:'4%'}}>\r\n                    <h3 style={{fontSize:25, fontWeight: 'bold'}}>제목</h3>\r\n                    <input class=\"inputs\" onChange={(e)=>setTitle(e.target.value)} />\r\n                    <h3 style={{fontSize: 25, fontWeight: 'bold', marginTop: 10}}>\r\n                        내용\r\n                    </h3>\r\n                    <textarea rows={15} class=\"inputs\" onChange={(e)=>setContent(e.target.value)}\r\n                    style={{resize: 'none'}}\r\n                    />\r\n                    <div class=\"buttonDiv\">\r\n                        <input \r\n                            placeholder=\"Writer\"\r\n                            onChange={(e)=>setAuthor(e.target.value)}\r\n                            style={{\r\n                                padding: 5, \r\n                                width: 200,\r\n                                fontSize: 20,\r\n                                resize: 'none',\r\n                                marginRight: 20,\r\n                                borderRadius: 4,\r\n                            }}\r\n                        />\r\n                        <input \r\n                            placeholder=\"Password\"\r\n                            type=\"password\"\r\n                            onChange={(e)=>setPassword(e.target.value)}\r\n                            style={{\r\n                                padding: 6, \r\n                                width: 200,\r\n                                fontSize: 20,\r\n                                resize: 'none',\r\n                                marginRight: 20,\r\n                                borderRadius: 4,\r\n                            }}\r\n                        />\r\n                        <button class=\"goodButton\" onClick={()=>insertData()}>\r\n                            저장\r\n                        </button>\r\n                        <button class=\"badButton\" onClick={handleClick}>\r\n                            닫기\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Write"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}