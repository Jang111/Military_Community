{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jangty\\\\Desktop\\\\miliHelper\\\\Military_Community\\\\vs_workspace\\\\community\\\\src\\\\pages\\\\Write.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './Write.css';\nimport Contents from './Contents';\nimport crypto from \"crypto-browserify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Write = data => {\n  _s();\n  // 초기값 : ''\n  //setTitle(1)--> title = 1로 설정한다는 의미\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [author, setAuthor] = useState('');\n  const [password, setPassword] = useState('');\n\n  // const crypto = require(\"crypto\");\n\n  const insertDataValueCheck = () => {\n    if (title === '') {\n      alert(\"제목을 입력해주세요.\");\n      return false;\n    }\n    if (content === '') {\n      alert(\"내용을 입력해주세요.\");\n      return false;\n    }\n    if (author === '') {\n      alert(\"이름을 입력해주세요.\");\n      return false;\n    }\n    if (password === '') {\n      alert(\"비밀번호를 입력해주세요.\");\n      return false;\n    }\n    return true;\n  };\n  const insertData = async () => {\n    if (!insertDataValueCheck()) {\n      return;\n    } // 게시글을 올바른형태로 작성하였는지 검사\n\n    const headers = {\n      'Content-type': 'application/json; charset=utf-8;',\n      Accept: 'application/json'\n    };\n    const datas = {\n      id: null,\n      title: title,\n      content: content,\n      author: author,\n      password: crypto.createHmac('sha256', 'milihelper_key').update(password).digest('hex') // encrypt password\n    };\n    axios.post('http://127.0.0.1:8000/Write/', datas, {\n      headers\n    }).then(response => {\n      if (response.data.responseCode) {\n        alert(response.data.message);\n        window.location.href = \"/Community\";\n      } else {\n        alert(response.data.message);\n      }\n    }).catch(response => {\n      alert(response.data.message);\n    });\n  };\n  const handleClick = e => {\n    window.location.href = \"/Community\";\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"background\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      class: \"sectionTitle\",\n      children: \"\\uAE00\\uC791\\uC131\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingLeft: '4%',\n        paddingRight: '4%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          fontSize: 25,\n          fontWeight: 'bold'\n        },\n        children: \"\\uC81C\\uBAA9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        class: \"inputs\",\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          fontSize: 25,\n          fontWeight: 'bold',\n          marginTop: 10\n        },\n        children: \"\\uB0B4\\uC6A9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        rows: 15,\n        class: \"inputs\",\n        onChange: e => setContent(e.target.value),\n        style: {\n          resize: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"buttonDiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Writer\",\n          onChange: e => setAuthor(e.target.value),\n          style: {\n            padding: 5,\n            width: 200,\n            fontSize: 20,\n            resize: 'none',\n            marginRight: 20,\n            borderRadius: 4\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Password\",\n          type: \"password\",\n          onChange: e => setPassword(e.target.value),\n          style: {\n            padding: 6,\n            width: 200,\n            fontSize: 20,\n            resize: 'none',\n            marginRight: 20,\n            borderRadius: 4\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"goodButton\",\n          onClick: () => insertData(),\n          children: \"\\uC800\\uC7A5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"badButton\",\n          onClick: handleClick,\n          children: \"\\uB2EB\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n};\n_s(Write, \"V9pNFO/IyJQFnphkxKIcnllG9sE=\");\n_c = Write;\nexport default Write;\nvar _c;\n$RefreshReg$(_c, \"Write\");","map":{"version":3,"names":["React","useState","axios","Contents","crypto","jsxDEV","_jsxDEV","Write","data","_s","title","setTitle","content","setContent","author","setAuthor","password","setPassword","insertDataValueCheck","alert","insertData","headers","Accept","datas","id","createHmac","update","digest","post","then","response","responseCode","message","window","location","href","catch","handleClick","e","class","children","fileName","_jsxFileName","lineNumber","columnNumber","style","paddingLeft","paddingRight","fontSize","fontWeight","onChange","target","value","marginTop","rows","resize","placeholder","padding","width","marginRight","borderRadius","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/jangty/Desktop/miliHelper/Military_Community/vs_workspace/community/src/pages/Write.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport axios from 'axios';\r\nimport './Write.css'\r\nimport Contents from './Contents';\r\nimport crypto from \"crypto-browserify\";\r\nconst Write = (data) => {\r\n    // 초기값 : ''\r\n    //setTitle(1)--> title = 1로 설정한다는 의미\r\n    const [title, setTitle] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [author, setAuthor] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    \r\n    // const crypto = require(\"crypto\");\r\n\r\n    const insertDataValueCheck = ()=> {\r\n        if(title === ''){\r\n            alert(\"제목을 입력해주세요.\")\r\n            return false;\r\n        }\r\n        if(content === ''){\r\n            alert(\"내용을 입력해주세요.\")\r\n            return false;\r\n        }\r\n        if(author === ''){\r\n            alert(\"이름을 입력해주세요.\")\r\n            return false;\r\n        }\r\n        if(password === ''){\r\n            alert(\"비밀번호를 입력해주세요.\")\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    const insertData = async() => {\r\n        if(!insertDataValueCheck()){\r\n            return;\r\n        } // 게시글을 올바른형태로 작성하였는지 검사\r\n        \r\n        const headers = {\r\n            'Content-type' : 'application/json; charset=utf-8;',\r\n            Accept : 'application/json',\r\n        };\r\n\r\n        const datas = {\r\n            id : null,\r\n            title: title,\r\n            content: content,\r\n            author: author,\r\n            password : crypto\r\n            .createHmac('sha256', 'milihelper_key')\r\n            .update(password)\r\n            .digest('hex'), // encrypt password\r\n        };\r\n\r\n        axios.post('http://127.0.0.1:8000/Write/', datas\r\n        ,{headers,}\r\n        )\r\n        .then(\r\n            (response) => {\r\n                if(response.data.responseCode){\r\n                    alert(response.data.message);  \r\n                    window.location.href = \"/Community\"\r\n                }else{\r\n                    alert(response.data.message);\r\n                }\r\n            }\r\n        ).catch(\r\n            (response) => {\r\n                alert(response.data.message);\r\n            }\r\n        );\r\n    };\r\n\r\n    const handleClick = (e)=>{\r\n        window.location.href = \"/Community\";\r\n    }\r\n    return (\r\n        <div class=\"background\">\r\n            <h2 class=\"sectionTitle\">글작성</h2>\r\n                <div style={{paddingLeft: '4%', paddingRight:'4%'}}>\r\n                    <h3 style={{fontSize:25, fontWeight: 'bold'}}>제목</h3>\r\n                    <input class=\"inputs\" onChange={(e)=>setTitle(e.target.value)} />\r\n                    <h3 style={{fontSize: 25, fontWeight: 'bold', marginTop: 10}}>\r\n                        내용\r\n                    </h3>\r\n                    <textarea rows={15} class=\"inputs\" onChange={(e)=>setContent(e.target.value)}\r\n                    style={{resize: 'none'}}\r\n                    />\r\n                    <div class=\"buttonDiv\">\r\n                        <input \r\n                            placeholder=\"Writer\"\r\n                            onChange={(e)=>setAuthor(e.target.value)}\r\n                            style={{\r\n                                padding: 5, \r\n                                width: 200,\r\n                                fontSize: 20,\r\n                                resize: 'none',\r\n                                marginRight: 20,\r\n                                borderRadius: 4,\r\n                            }}\r\n                        />\r\n                        <input \r\n                            placeholder=\"Password\"\r\n                            type=\"password\"\r\n                            onChange={(e)=>setPassword(e.target.value)}\r\n                            style={{\r\n                                padding: 6, \r\n                                width: 200,\r\n                                fontSize: 20,\r\n                                resize: 'none',\r\n                                marginRight: 20,\r\n                                borderRadius: 4,\r\n                            }}\r\n                        />\r\n                        <button class=\"goodButton\" onClick={()=>insertData()}>\r\n                            저장\r\n                        </button>\r\n                        <button class=\"badButton\" onClick={handleClick}>\r\n                            닫기\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Write"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}